<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org" 
	  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity">

<head>
    <title>LataVelhaInc.</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="/css/inicio.css">
</head>

<body>
    <div class="topbar">
        <ul id="links">
            <li class="linkTopoEsquerda">
                <a href="/"><span id="titulo">LataVelhaInc.</span></a>
            </li>
            <li class="linkTopoDireita">
            	<div sec:authorize="!isAuthenticated()">
            		<a th:href="@{/login/}">Login</a>
            	</div>
                
            </li>
            
            <li class="linkTopoDireita">
            	<div sec:authorize="isAuthenticated()">
					<form th:action="@{/logout}" method="post">
						<input type="submit" name="login-submit" id="login-submit" value="Logout">
					</form>
				</div>
            </li>
            
            <li class="linkTopoDireita">
            	<div sec:authorize="hasRole('ROLE_ADMIN')">
            		<a th:href="@{/admin/}">Teste admin</a>
            	</div>
            </li>
            
            <li class="linkTopoDireita">
                <div sec:authorize="hasRole('ROLE_USER')">
            		<a th:href="@{/cliente/{id} (id=${2})}">Teste Cliente 1</a>	
            	</div>
            </li>
            <li class="linkTopoDireita">
            	<div sec:authorize="hasRole('ROLE_LOJA')">
            		<a th:href="@{/loja/{id} (id=${5})}">Teste Loja 1</a>
            	</div>
            </li>
            <li class="linkTopoDireita">
            	<div sec:authorize="hasRole('ROLE_LOJA')">
                	<a th:href="@{/loja/{id} (id=${6})}">Teste Loja 2</a>
            	</div>
            </li>
            <li class="linkTopoDireita">
                <div sec:authorize="hasRole('ROLE_LOJA')">
                	<a th:href="@{/loja/{id} (id=${7})}">Teste Loja 3</a>
            	</div>
            </li>
        </ul>
    </div>
    <section id="carros">
        <div id="divFiltro">
            <input type="text" name="Filtro" placeholder="filtrar..." id="filtro" onfocus="comecar()" onblur="parar()">
            <span id="legendaN" th:text=#{filter.count}></span>
            <span id="numero">-</span>
        </div>
        <div th:each="veiculo: ${catalogo}">
            <section class="box">
                <a href="/login/" class="box-link">
                    <div class="card">
                        <div class="container">
                            <img th:src="@{${'/images/' + veiculo.id + '/1.jpg'}}" alt="Carro">
                        </div>
                        <ul class="dadosCarro">
                            <li class="modelo" th:text="${veiculo.modelo}"></li>
                            <li th:text="${veiculo.loja.nome}"></li>
                            <li th:text="${veiculo.quilometragem + 'km'}"></li>
                            <li class="oferta" th:text="${'R$' + veiculo.preco}"></li>
                        </ul>
                    </div>
                </a>
            </section>
        </div>
    </section>
    <script src="/js/filtro.js"></script>
</body>

</html>